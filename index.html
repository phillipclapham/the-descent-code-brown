<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="The Descent: Code Brown - An ASCII roguelike where you desperately need to reach the bathroom at the bottom of a dungeon. Built with vanilla JavaScript."
    />
    <meta property="og:title" content="The Descent: Code Brown" />
    <meta
      property="og:description"
      content="ASCII roguelike dungeon crawler with a comedic twist"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://gottapoop.phillipclapham.com" />
    <meta
      property="og:image"
      content="https://gottapoop.phillipclapham.com/screenshots/gameplay.png"
    />
    <meta property="og:image:width" content="800" />
    <meta property="og:image:height" content="660" />
    <meta
      property="og:image:alt"
      content="The Descent: Code Brown gameplay - ASCII roguelike dungeon crawler"
    />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="The Descent: Code Brown" />
    <meta
      name="twitter:description"
      content="ASCII roguelike dungeon crawler with a comedic twist. Manage your desperation, fight enemies, and reach the bathroom before it's too late!"
    />
    <meta
      name="twitter:image"
      content="https://gottapoop.phillipclapham.com/screenshots/gameplay.png"
    />

    <title>The Descent: Code Brown</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />

    <!-- Google Fonts: VT323 (Authentic Terminal Font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=VT323&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
      <h1>THE DESCENT: CODE BROWN</h1>
      <p class="tagline">An ASCII Roguelike Terminal Adventure</p>
      <p class="subtitle">"But I just have to poop!"</p>
      <p class="author">by Phill Clapham</p>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Controls Sidebar -->
      <aside class="controls-sidebar">
        <div class="desktop-notice">‚å®Ô∏è Desktop/Keyboard Required</div>
        <h2>Controls</h2>

        <div class="controls-section">
          <h3>Movement</h3>
          <div class="control-item">
            <span
              ><kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> or <kbd>‚Üë</kbd
              ><kbd>‚Üê</kbd><kbd>‚Üì</kbd><kbd>‚Üí</kbd></span
            >
            <span class="description">Move</span>
          </div>
          <div class="control-item">
            <span><kbd>SPACE</kbd></span>
            <span class="description">Attack</span>
          </div>
        </div>

        <div class="controls-section">
          <h3>Inventory</h3>
          <div class="control-item">
            <span><kbd>Q</kbd> / <kbd>E</kbd></span>
            <span class="description">Cycle slots</span>
          </div>
          <div class="control-item">
            <span><kbd>1</kbd>-<kbd>4</kbd></span>
            <span class="description">Select weapon</span>
          </div>
          <div class="control-item">
            <span><kbd>5</kbd>-<kbd>8</kbd></span>
            <span class="description">Select consumable</span>
          </div>
          <div class="control-item">
            <span><kbd>ENTER</kbd></span>
            <span class="description">Use consumable</span>
          </div>
          <div class="control-item">
            <span><kbd>X</kbd></span>
            <span class="description">Drop item</span>
          </div>
        </div>

        <div class="controls-section">
          <h3>Special</h3>
          <div class="control-item">
            <span><kbd>C</kbd></span>
            <span class="description">Clench</span>
          </div>
          <div class="control-item">
            <span><kbd>R</kbd></span>
            <span class="description">Shrine/Lore/Restart</span>
          </div>
          <div class="control-item">
            <span><kbd>P</kbd></span>
            <span class="description">Pause</span>
          </div>
          <div class="control-item">
            <span><kbd>H</kbd></span>
            <span class="description">Help</span>
          </div>
          <div class="control-item">
            <span><kbd>M</kbd></span>
            <span class="description">Mute/Unmute</span>
          </div>
        </div>

        <div class="game-tip">
          <p>
            <strong>TIP:</strong> Press <kbd>H</kbd> in-game for full controls.
            Find shrines (Œ©) to restore HP!
          </p>
        </div>
      </aside>

      <!-- Game Container -->
      <div class="game-container">
        <div id="desperation-meter"></div>
        <canvas id="game-canvas" width="800" height="660"></canvas>
      </div>
    </main>

    <!-- Story Button -->
    <div class="story-button-container">
      <button id="view-story-btn" class="story-button">üìñ View Story</button>
    </div>

    <!-- Footer -->
    <footer>
      <div class="footer-content">
        <div class="footer-section">
          <h3>About</h3>
          <p>A comedic ASCII roguelike dungeon crawler.</p>
          <p>Descend through procedurally generated floors.</p>
          <p>
            Fight enemies, manage desperation, reach the bathroom before you
            need a change of pants!
          </p>
        </div>

        <div class="footer-section">
          <h3>Tech Stack</h3>
          <p>Vanilla JavaScript ‚Ä¢ HTML5 Canvas</p>
          <p>Web Audio API ‚Ä¢ localStorage</p>
          <p>Procedural Generation ‚Ä¢ Roguelike Mechanics</p>
        </div>

        <div class="footer-section">
          <h3>Credits</h3>
          <p>
            Developed by
            <a href="https://github.com/phillipclapham/" target="_blank"
              >Phillip Clapham</a
            >
          </p>
          <p>
            Built in collaboration with
            <a href="https://claude.com/claude-code" target="_blank"
              >Claude Code</a
            >
          </p>
          <p>
            <a
              href="https://github.com/phillipclapham/the-descent-code-brown"
              target="_blank"
              >View the game on GitHub</a
            >
          </p>
        </div>
      </div>

      <div class="footer-bottom">
        <p>
          &copy; 2025 Phillip Clapham | A zero-pressure fun love letter to the
          games of my youth
        </p>
      </div>
    </footer>

    <!-- Boot Sequence -->
    <script type="module">
      import { initBootSequence } from "./src/boot-sequence.js";
      initBootSequence();
    </script>

    <!-- Story Button -->
    <script type="module">
      import { IntroModal } from "./src/intro-modal.js";

      // Wire up "View Story" button
      document
        .getElementById("view-story-btn")
        .addEventListener("click", () => {
          const modal = new IntroModal();
          modal.forceShow(() => {
            // Do nothing on dismiss - just close modal
          });
        });
    </script>

    <!-- Main Game -->
    <script type="module" src="src/game.js"></script>
  </body>
</html>
